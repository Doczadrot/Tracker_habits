
### Описание проекта
**Habits API** — это бэкенд-приложение, созданное с использованием Django и Django Rest Framework. Проект представляет собой трекер привычек, основанный на принципах книги Джеймса Клира «Атомные привычки». Приложение позволяет пользователям создавать и отслеживать свои привычки, а также связывать их с приятными привычками в качестве вознаграждения. В проекте настроена система рассылки уведомлений через Telegram с использованием Celery.

---

### Основные функции
-   **Авторизация и аутентификация** пользователей с помощью JWT-токенов.
-   **CRUD**-операции (создание, просмотр, обновление, удаление) для привычек.
-   **Публичные и приватные привычки**: просмотр списка публичных привычек доступен всем, а приватные — только владельцам.
-   **Связь привычек**: возможность связывать полезную привычку с приятной в качестве вознаграждения.
-   **Автоматические уведомления**: рассылка напоминаний о привычках через Telegram с помощью Celery.

---

### Используемые технологии
-   **Python 3.12**
-   **Django 5.1**
-   **Django Rest Framework**
-   **drf-spectacular**: Генерация документации API (Swagger/OpenAPI).
-   **Django Simple JWT**: Аутентификация на основе токенов.
-   **Celery**: Асинхронная обработка задач.
-   **Redis**: Брокер сообщений для Celery.
-   **PostgreSQL**: База данных.

---

### Установка и запуск

1.  **Клонирование репозитория:**
    ```bash
    git clone [https://github.com/Doczadrot/Tracker_habits.git](https://github.com/Doczadrot/Tracker_habits.git)
    cd Tracker_habits
    ```

2.  **Создание и активация виртуального окружения:**
    ```bash
    python -m venv .venv
    source .venv/bin/activate
    ```

3.  **Установка зависимостей:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Настройка окружения:**
    Создайте файл `.env` в корневом каталоге проекта и добавьте в него переменные окружения, включая настройки для базы данных, Django Secret Key и токен Telegram-бота.

5.  **Настройка базы данных:**
    Убедитесь, что у вас установлен и запущен **PostgreSQL**. Затем примените миграции:
    ```bash
    python manage.py migrate
    ```

6.  **Создание суперпользователя:**
    ```bash
    python manage.py createsuperuser
    ```

7.  **Запуск Redis и Celery:**
    Celery использует Redis в качестве брокера. Запустите Redis на вашем компьютере.
    Затем в отдельном терминале запустите Celery Worker:
    ```bash
    celery -A config worker --loglevel=info -P gevent
    ```
    И Celery Beat для планирования задач:
    ```bash
    celery -A config beat -l info
    ```

8.  **Запуск сервера:**
    ```bash
    python manage.py runserver
    ```

---

### API Эндпоинты

Документация API доступна по адресу `http://127.0.0.1:8000/api/schema/swagger/`.

-   `POST /users/register/` - Регистрация нового пользователя.
-   `POST /users/login/` - Аутентификация и получение JWT-токенов.
-   `POST /habits/new/` - Создание новой привычки (требуется авторизация).
-   `GET /habits/` - Просмотр списка своих привычек (требуется авторизация).
-   `GET /habits/{id}/` - Просмотр одной привычки (требуется авторизация).
-   `PUT /habits/{id}/update/` - Обновление привычки (требуется авторизация).
-   `DELETE /habits/{id}/delete/` - Удаление привычки (требуется авторизация).
-   `GET /public-habits/` - Просмотр списка публичных привычек.

---

### Автор

-   **Иван**
-   [Ссылка на репозиторий](https://github.com/Doczadrot/Tracker_habits.git)

---
